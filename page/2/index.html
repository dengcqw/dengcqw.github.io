<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"dengcqw.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.12.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it&#39;s never too late.">
<meta property="og:type" content="website">
<meta property="og:title" content="Deng&#39;s Technique Blogs">
<meta property="og:url" content="https://dengcqw.github.io/page/2/index.html">
<meta property="og:site_name" content="Deng&#39;s Technique Blogs">
<meta property="og:description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it&#39;s never too late.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="DengJinlong">
<meta property="article:tag" content="计算机">
<meta property="article:tag" content="computer">
<meta property="article:tag" content="思考">
<meta property="article:tag" content="thinking">
<meta property="article:tag" content="移动互联网">
<meta property="article:tag" content="mobile internet">
<meta property="article:tag" content="软件">
<meta property="article:tag" content="Software">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://dengcqw.github.io/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Deng's Technique Blogs</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Deng's Technique Blogs</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">邓小宝的技术博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">DengJinlong</p>
  <div class="site-description" itemprop="description">我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">29</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/30/life-daily-220730-signup-for-child/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/30/life-daily-220730-signup-for-child/" class="post-title-link" itemprop="url">小宝报名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-30 22:09:44" itemprop="dateCreated datePublished" datetime="2022-07-30T22:09:44+08:00">2022-07-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-14 18:18:12" itemprop="dateModified" datetime="2022-08-14T18:18:12+08:00">2022-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/life/" itemprop="url" rel="index"><span itemprop="name">生活日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今日给小宝报了个名，下半年就可以有课上了。虽然是每个周末一节课。比报名培训班要便宜多了。<br>没有关注相关信息，也就错过了托班报名。今日报名就很重要了。<br>小宝还小，我不太愿意让他上托班。明年上幼儿园都快四岁了。也就放心多了。<br>疫情时不时来一下。今天我们小区有密接。整栋楼封闭了。如有确诊，我们小区就要封闭了。<br>昨天晚上我登陆了网站，查看了报名接口。没做校验。我直接写了个js脚本调接口。<br>今天报名时网站被挤爆了。接口返回503。我的脚本是到点发请求，谁知网站挂了。我赶紧改脚本，<br>改成间隔发送请求。其他人都卡在界面时，我还能不断重试请求接口。<br>过了几十秒，接口返回已经报名成功，不能在报名。我猜是报上了，就把脚本停了。果然报上了。</p>
<p>今天发生一件不愉快的事情。小宝奶奶炖了鱼，还挑了骨头。但小宝第一口就吃到了鱼刺。<br>还卡在喉咙某个部位。小宝又哭，又呕。闹了很久，也不配合我们检查。妈妈坚持要去医院。<br>去了医院，医生也没看到鱼刺。小宝也不配合，我们紧紧的按住他，医生还是没法继续检查。<br>折腾了好一会儿，医生让小宝平复下，不哭闹了再看。我们在大厅等，妈妈抱着小宝看电视，然后小宝睡了。<br>妈妈感觉小宝鱼刺可能弄掉了。回家小宝也不闹了，玩了一下午。好像鱼刺真的消失了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/29/work-daily-220729/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/29/work-daily-220729/" class="post-title-link" itemprop="url">work-daily-220729</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-29 08:57:34" itemprop="dateCreated datePublished" datetime="2022-07-29T08:57:34+08:00">2022-07-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-31 07:26:09" itemprop="dateModified" datetime="2022-07-31T07:26:09+08:00">2022-07-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/work/" itemprop="url" rel="index"><span itemprop="name">工作日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="技术踩坑"><a href="#技术踩坑" class="headerlink" title="技术踩坑"></a>技术踩坑</h3><ul>
<li><p>合并代码冲突了<br>发版合并项目，一堆冲突。尤其是工程配置文件，每增加一个文件都会冲突。<br>所以组件化可以解决冲突<br>最终卡了。要重新来过。<br><img src="/imgs/sourcetree_rabase_empty_error.webp" alt="webp"></p>
</li>
<li><p>swfit package manager 好用吗<br>项目里的package manager每次都要update一下吗？还是把这些库干掉吧。<br>切换一下分支就找不到swift-log库了<br>以前objc&amp;swift混编也常常出问题，需要清空缓存。再重新编译一遍<br><img src="/imgs/xcode_swiftpm_notfound_swiftlog.webp" alt="webp"></p>
</li>
<li><p>ts类型error</p>
<blockquote>
<p>Argument of type ‘string | undefined’ is not assignable to parameter of type ‘string’. Type ‘undefined’ is not assignable to type ‘string’.<br>使用 as string 强制转换</p>
</blockquote>
</li>
</ul>
<h3 id="不懂就问"><a href="#不懂就问" class="headerlink" title="不懂就问"></a>不懂就问</h3><ul>
<li><p>cocoapods里 swift项目怎么打包成静态库？</p>
</li>
<li><p>bc 计算器不支持小数？<br>需要设置scale<a target="_blank" rel="noopener" href="https://blog.csdn.net/daerzei/article/details/80341339">-&gt;</a></p>
</li>
<li><p>设计尺寸规范, 可以快速查看参数<br><a target="_blank" rel="noopener" href="https://uiiiuiii.com/screen/ios.htm">-&gt;</a></p>
</li>
<li><p>Medium Bold Regular 对应React native 字号是多少?  更多内容<a target="_blank" rel="noopener" href="https://gist.github.com/knowbody/c5cdf26073b874eae86ba96e7cf3a540">-&gt;</a></p>
<p>  { fontWeight: ‘100’ }, &#x2F;&#x2F; Thin<br>  { fontWeight: ‘200’ }, &#x2F;&#x2F; Ultra Light<br>  { fontWeight: ‘300’ }, &#x2F;&#x2F; Light<br>  { fontWeight: ‘400’ }, &#x2F;&#x2F; Regular<br>  { fontWeight: ‘500’ }, &#x2F;&#x2F; Medium<br>  { fontWeight: ‘600’ }, &#x2F;&#x2F; Semibold<br>  { fontWeight: ‘700’ }, &#x2F;&#x2F; Bold<br>  { fontWeight: ‘800’ }, &#x2F;&#x2F; Heavy<br>  { fontWeight: ‘900’ }, &#x2F;&#x2F; Black</p>
<p>  这个库有有什么用<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/react-native-cross-platform-text">react-native-cross-platform-text</a><br>  You can use react-native-cross-platform-text to consolidate iOS and Android font weights into the same API</p>
</li>
<li><p>如何使用任意类型的对象<br><img src="/imgs/typescript_build_err_any_type.webp" alt="webp"><br>使用<a target="_blank" rel="noopener" href="https://www.runoob.com/typescript/ts-map.html">Map</a>？需要看看更多<a target="_blank" rel="noopener" href="http://www.semlinker.com/ts-object-type/#4-3-%E7%B1%BB%E5%9E%8B">关于ts类型的介绍</a><br>其实可以在ts文件中禁用类型检测<a target="_blank" rel="noopener" href="https://bobbyhadz.com/blog/typescript-disable-type-checking">-&gt;</a></p>
<blockquote>
<p>当前行不做类型检测 &#x2F;&#x2F; @ts-ignore<br>整个文件不做类型检测 &#x2F;&#x2F; @ts-nocheck</p>
</blockquote>
</li>
<li><p>vim 打开两个窗口，再启动diff 可以吗</p>
<blockquote>
<p>:diffthis</p>
</blockquote>
</li>
</ul>
<h3 id="想啥写啥"><a href="#想啥写啥" class="headerlink" title="想啥写啥"></a>想啥写啥</h3><p>今天应该是要发版，但领导忙别的项目，加了两天班，没时间管发版的事情。<br>应该是由另外两个同事负责发版，但是他两也是悄无声息的，不在群里反馈或和其他人沟通。<br>虽然我们不到几个人。我负责的需求有个UI bug，但安卓可能还没测，相关同事今天离职。也没打新包给测试。<br>那我这个需求还发不发版了？<br>总结就是我们没有开发流程。一堆人乱哄哄的做需求。我想象管理层应该是传统企业的那种只会拉关系，会吃喝土老板。<br>反正人便宜，效率低点也没关系。</p>
<p>这个<a target="_blank" rel="noopener" href="https://bobbyhadz.com/">技术blog</a>不错，可以参考一下，我以后也搭建一个类似的。</p>
<p>我还在想着写单元测试呢。现在开发模式都有问题。代码还需要重构、CICD建设等等好多工作要做。<br>但是每日优鲜倒闭了，融不到钱，员工就地解散。他们做的平台建设都和公司一起没了。<br>我做的工作的意义是什么呢。让自己高效，让团队高效。少加班，早回家。说不定哪天就地解散。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/28/work-daily-220728/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/28/work-daily-220728/" class="post-title-link" itemprop="url">work-daily-220728</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-28 09:10:40" itemprop="dateCreated datePublished" datetime="2022-07-28T09:10:40+08:00">2022-07-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-31 07:26:09" itemprop="dateModified" datetime="2022-07-31T07:26:09+08:00">2022-07-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/work/" itemprop="url" rel="index"><span itemprop="name">工作日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="技术踩坑"><a href="#技术踩坑" class="headerlink" title="技术踩坑"></a>技术踩坑</h3><p>我在做工具<a target="_blank" rel="noopener" href="https://github.com/dengcqw/APIModel">APIModel</a>，来完成昨天说的功能。遇到问题挺多的。</p>
<ol>
<li><p>json 在ts里怎么定义类型<br><img src="/imgs/ts_any_object_error.webp" alt="webp"></p>
<p> 布尔型：boolean<br> 数值型：number<br> 字符型：string<br> 数组：array<br> 对象：object<br> 元组（可以定义数组有几个成员）：tuple<br> 枚举：enum<br> 任意型（少用，赋值的时候会影响被赋值的元素）：any<br> 未知型(比any优秀)：unknown<br> 空型：void<br> 不存在的类型（常用来抛出错误）：never</p>
<p> 我的解决方法： 使用自定义类型，把要访问的字段加入类型<br> 还可以使用 关闭ts语法检查的注释</p>
</li>
<li><p>ts 数组定义：两个有区别吗<br>Type ‘{ name: string; description: string; }[]’ is not assignable to<br>type ‘[{ name: string; description: string; }]’.</p>
</li>
<li><p>module 错误</p>
<blockquote>
<p>“require() of ES Module pathto&#x2F;node_modules&#x2F;tempfile&#x2F;index.js from pathto&#x2F;GenerateSchema.ts not supported.”<br>tempfile 这个库报的错。我也不知道什么问题。网上也没查到<br>好像是esmodule和commonjs的问题。 oclif使用的是commonjs。很多库使用esmodule<br>找到一个大神的解释：<a target="_blank" rel="noopener" href="https://stackoverflow.com/a/56348146">-&gt;</a></p>
</blockquote>
</li>
<li><p>Unexpected token ‘export’<br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000019582600">-&gt;</a></p>
</li>
</ol>
<p>换了一个库，一切正常了。浪费了几个小时。但也学到module相关知识。长时间不用还是会忘记。<br>经验教训是，一个库，不能用，换一个。npm很多没用的库。</p>
<h3 id="不懂就问"><a href="#不懂就问" class="headerlink" title="不懂就问"></a>不懂就问</h3><ul>
<li><p>async wait 怎么用在()&#x3D;&gt;{} 定义上</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">async (): Promiss&lt;void&gt; =&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>  需要反回promiss</p>
</li>
<li><p>ts文件中引入js模块<br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904112354492429">-&gt;</a></p>
</li>
</ul>
<h3 id="想啥写啥"><a href="#想啥写啥" class="headerlink" title="想啥写啥"></a>想啥写啥</h3><p>今天新来两个设计师，那可以设计出多少个需求，我们的需求到底有多少？<br>茶水间，每次都遇到后台同事在面试。</p>
<p>一个页面展示了前一个页面传过来的数据，退出再进页面，数据就多一条。找了半天没找到原因。因为没有任何日志可以参考。对于自己熟悉的项目，感觉日志可有可无，但对于不熟悉的人，日志可以节省很多时间的。所以听说过，用写不写log来区分菜不菜。</p>
<p>同事说多写一些重复代码，比如ifelse，对业务需求还是有用，方便修改。我直接停止了讨论。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/27/work-daily-220727/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/27/work-daily-220727/" class="post-title-link" itemprop="url">work-daily-220727</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-27 09:14:08" itemprop="dateCreated datePublished" datetime="2022-07-27T09:14:08+08:00">2022-07-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-31 07:26:09" itemprop="dateModified" datetime="2022-07-31T07:26:09+08:00">2022-07-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/work/" itemprop="url" rel="index"><span itemprop="name">工作日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="技术踩坑"><a href="#技术踩坑" class="headerlink" title="技术踩坑"></a>技术踩坑</h3><h4 id="json转多语言的模型"><a href="#json转多语言的模型" class="headerlink" title="json转多语言的模型"></a>json转多语言的模型</h4><p><a target="_blank" rel="noopener" href="https://github.com/quicktype/quicktype">quicktype</a> 把json 转成其他语言的模型类。是我们项目需要的工具。<br>这样简单的想法变成了一个热门开源项目。有些项目不复杂，只是实用而大受欢迎。<br>试了下很好用。但是有些小需求没有得到满足，比如增加注释，自定义继承类，设置默认值。<br>考虑在quicktype上定制功能。先把api json 转成json schema 再编辑schema增加description，再转modal就会有注释</p>
<ol>
<li>先获取网站 token</li>
<li>请求api json</li>
<li>请求网页api获取接口字段描述</li>
<li>api json 转 schema json</li>
<li>把字段描述写入schema json</li>
<li>schema json 转 api</li>
<li>修改quicktype定制需要的功能</li>
</ol>
<p>“rap.xxx.com:8080” 这个地址可以在chrome中打开，但在axios请求时把地址找不到。先改成ip访问。</p>
<h3 id="不懂就问"><a href="#不懂就问" class="headerlink" title="不懂就问"></a>不懂就问</h3><ul>
<li><p><a target="_blank" rel="noopener" href="https://json-schema.org/learn/getting-started-step-by-step">json schema</a>是什么<br>定义json的json</p>
</li>
<li><p>项目如何开始使用<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/">typescript</a><br>  这个网站列了些项目的启动工具，自带ts  <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/bootstrap">-&gt;</a><br>  其中<a target="_blank" rel="noopener" href="https://oclif.io/">oclif</a> 是个 command line tools<br>  看了oclif的package.json, 有个build脚本，是不是说明ts项目都要先编译再执行。不能直接执行。<br>  每个ts文件会编译成两个文件 一个符号文件index.d.ts 一个js文件 index.js</p>
</li>
</ul>
<h3 id="想啥写啥"><a href="#想啥写啥" class="headerlink" title="想啥写啥"></a>想啥写啥</h3><p>一分代码拷贝了五份。有没有可能是手写了五份。应该不是，代码完全一样。是个高手。</p>
<p>先把需求完成，再考虑重构。不能耽误上线。</p>
<p>xcode 可以链接文件吗？在一个文件里写上连接，点击连接可以打开文件。<br>我想写个关于类的文档，看被人写得代码，类太多了，看起来很麻烦。<br>也可以生成文档，但是工具都挺复杂的。有时间再看吧。还要添加很多注释生成的文档才有意义。<br>还可以用代码的方式列出类型，用xcode索引功能跳转。</p>
<p>今天遇到一个垃圾产品经理，技术一点不懂。只凭感觉做判断。<br>我对产品有点执念，使用不便的应用，出自我的手，让我羞愧。</p>
<p>我不知道app上线时间，好像由领导决定。一个月两个版本，那这个版本应该是月底最后一天。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/26/work-daily-220726/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/26/work-daily-220726/" class="post-title-link" itemprop="url">work-daily-220726</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-26 09:18:05" itemprop="dateCreated datePublished" datetime="2022-07-26T09:18:05+08:00">2022-07-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-31 07:26:09" itemprop="dateModified" datetime="2022-07-31T07:26:09+08:00">2022-07-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/work/" itemprop="url" rel="index"><span itemprop="name">工作日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="技术踩坑"><a href="#技术踩坑" class="headerlink" title="技术踩坑"></a>技术踩坑</h3><ul>
<li><p>日期比较的奇怪问题<br>  Date isAfterDate isBeforeDate 到底怎么比较的,<br>  0点算前一天还是后一天，<br>  时区要不要考虑</p>
</li>
<li><p>用json转换来拷贝模型<br>一个字段 json 转换一下就没有了？<br><img src="/imgs/swift_json_copy_valuechanged.webp" alt="webp"><br>后来发现是其他问题，根源还是定义了两个完全一样的模型，很聪明的通过json快速转换模型。新增参数时，两边都要改。<br><img src="/imgs/xcode_model_tojson_tomodel.webp" alt="webp"></p>
</li>
<li><p>SwiftDate 这个库功能很完备</p>
</li>
</ul>
<h3 id="不懂就问"><a href="#不懂就问" class="headerlink" title="不懂就问"></a>不懂就问</h3><h3 id="想啥写啥"><a href="#想啥写啥" class="headerlink" title="想啥写啥"></a>想啥写啥</h3><p>我想起一篇文章中的话了，”写企业内部应用非常复杂”。几十上百个字段要处理，逻辑复杂。性能和崩溃不是首要考虑的问题，快速实现功能才是重点。</p>
<p>昨天算是了解了发版流程。每个需求都有对应产品经理，多个需求就有多个产品经理。每个开发只管完成自己负责的需求，包括开发，打包提测，bug跟踪。还需要提醒产品经理验收。<br>上线前一天，各产品经理会验收需求，再根据业务和其他情况决定哪些功能上线，列出上线需求表。开发团队再把相关代码合并在一起进行集成测试。后台接口和app应用，web应用几乎同时上线。<br>计划上线那天只进行打包和集成测试。原来谁测试的，依然由谁测试。所以这天应该都很忙。这是项目制，一个小团队负责一个项目。各项目相对独立，所以集成测试不会有大问题。<br>这个制度有什么问题？<br>我们组的问题：没有组件化也就没有沉淀出公共组件，每人写一些重复代码在自己模块里。<br>其他公司是什么样的？<br>我以前公司是什么样的？</p>
<p>后台接口定义规范，命名准确，非常棒。几乎是直接拿来当字段用。那么是不是可以直接把接口模板转成模型呢。</p>
<p>如果你是对面青涩的程序员，会提拔自己当领导吗？不会</p>
<p>项目里用了HandyJSON，前同事在model里写了两个几乎一模一样的模型类，只一个字段不同，那就是id。<br>很明显id是获取数据时后台的主标识。那可以继承来实现啊。为什么要两个类。很多代码是直接拷贝复制的。<br>后来得知，需求紧急用了5个人赶出来的。所以是各做各做。没有复用和分工，能不赶嘛。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/25/work-daily-220725/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/25/work-daily-220725/" class="post-title-link" itemprop="url">work-daily-220725</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-25 09:03:50" itemprop="dateCreated datePublished" datetime="2022-07-25T09:03:50+08:00">2022-07-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-31 07:26:09" itemprop="dateModified" datetime="2022-07-31T07:26:09+08:00">2022-07-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/work/" itemprop="url" rel="index"><span itemprop="name">工作日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="技术踩坑"><a href="#技术踩坑" class="headerlink" title="技术踩坑"></a>技术踩坑</h3><h3 id="不懂就问"><a href="#不懂就问" class="headerlink" title="不懂就问"></a>不懂就问</h3><ul>
<li>iOS 项目使用什么日志库？<br>项目里没有log库，真是奇怪。后来发现有swift-log，只是他们不爱写log。<br>现在什么库好用呢 <a target="_blank" rel="noopener" href="https://wellphone.me/post/2019/introduction_to_the_log_library_of_ios_platform/">iOS平台常见日志库简介-&gt;</a></li>
</ul>
<h3 id="想啥写啥"><a href="#想啥写啥" class="headerlink" title="想啥写啥"></a>想啥写啥</h3><p>早上听一个猎头讲职场的视频，其中我几点我比较疑惑：</p>
<ol>
<li>一个人到35岁就应该获得和年龄匹配的职位。 那我晋升到资深工程师了算吗？是不是要做到总监才算？</li>
<li>一个人在工作前5五年需要获得一定的工作成就。对于技术来说，那些人都是大牛了。但是大牛仍是少数。<br>那其他人怎么样了呢。感觉视频里说的是年薪百万以上的，和我没关系，没有参考价值。</li>
</ol>
<p>还另一视频说了35岁失业的问题。说是产业低端没有太多高薪岗位。我没看视频，只看了评论。<br>有人说中国互联网企业没技术含量。有人说失业的人没有能力。有人说是不可替代性岗位少。都是有道理的。<br>那我未来会怎么样呢？选择大于努力，希望我现在工作是正确的，其实我也没得选。</p>
<p>上周五群里问了接口文档，产品经理@了一个后台开发，后台开发@了另一个后台开发，然后就沉默了。<br>今天我又问了接口文档，产品经理@了那个后台开发，然后沉默了。<br>后台给的排期是上周五开始开发。两天了，文档也没有。还不给个排期。那我的工作怎么做呢。<br>如果还不给文档，我就要和领导反馈了，这是提前暴露风险。领导才能安排上线日期，汇报给他领导。<br>如果需求紧急，他领导会找到后台领导，提高需求优先级。</p>
<p>早会上，新来了两个前端妹子，从研发一组调过来的。他们在做一个新App，使用vue开发，主要展示图表，给大老板看。项目很紧急，今晚还要加班上线。这几天，产品经理都围着我们的前端同事转。<br>领导说，vue组件化开发，有人不只一次改了组件导致其他功能异常，希望下次注意。我觉得还是习惯问题，修改公共组件，应该新增api，而不是改旧api，很多新手都犯这样的错误。</p>
<p>两年前的库都没有使用typescript，ts是最近两年才火的吧</p>
<p>这周要开始写周报了</p>
<p>大公司做开发平台是因为有几十，几百个开发。我们人也不少，但是公司层面没有没有协调研发资源。<br>我以前在电视果也没有用到公司多少的研发支持。只是接一些APM和日志。</p>
<p>下午2点需求评审, 这是个优化需求，被延期了很久。让几天时间赶工做出来。<br>同事说要和领导反馈一下，并不保证能及时完成。回答得很好。<br>产品经理说已经和我们领导打了招呼了。<br>优化需求设计接口修改，UI调整，逻辑调整，都没有时间去评估时间。<br>先熟悉下原来功能。RN开发只能延后。</p>
<p>开发环境后台各种接口异常，完全没法调试。 设计稿也遗失了。<br>TableView 没有封装，导致新增一个功能时，需要在多个地方新增ifelse。<br>当你觉得自己写得代码很好时，其实在别人眼里就是垃圾。<br>当你觉得自己敲代码效率很高，别人开始使用工具生成代码了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/22/work-daily-220722/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/22/work-daily-220722/" class="post-title-link" itemprop="url">work-daily-220722</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-22 09:02:44" itemprop="dateCreated datePublished" datetime="2022-07-22T09:02:44+08:00">2022-07-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-31 07:26:09" itemprop="dateModified" datetime="2022-07-31T07:26:09+08:00">2022-07-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/work/" itemprop="url" rel="index"><span itemprop="name">工作日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="技术踩坑"><a href="#技术踩坑" class="headerlink" title="技术踩坑"></a>技术踩坑</h3><h4 id="ts-类型推断"><a href="#ts-类型推断" class="headerlink" title="ts 类型推断"></a>ts 类型推断</h4><p>看到一段源码，知道ts 可以类型反射</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Infer the `RootState` and `AppDispatch` types from the store itself</span><br><span class="line">type RootState = ReturnType&lt;typeof store.getState&gt;;</span><br><span class="line">// Inferred type: &#123;posts: PostsState, comments: CommentsState, users: UsersState&#125;</span><br><span class="line">type AppDispatch = typeof store.dispatch;</span><br></pre></td></tr></table></figure>

<h4 id="JS-bundle-is-corrupt"><a href="#JS-bundle-is-corrupt" class="headerlink" title="JS bundle is corrupt"></a>JS bundle is corrupt</h4><p>学习RN demo时，不知道改了什么，一直报错，重启Metro sever才恢复</p>
<blockquote>
<p>ERROR  Invariant Violation: Module AppRegistry is not a registered callable module (calling runApplication). A frequent cause of the error is that the application entry file path is incorrect. This can also happen when the JS bundle is corrupt or there is an early initialization error when loading React Native.</p>
</blockquote>
<h4 id="React-forwardRef"><a href="#React-forwardRef" class="headerlink" title="React.forwardRef()"></a>React.forwardRef()</h4><p>React.forwardRef()是<a target="_blank" rel="noopener" href="https://juejin.cn/post/6985068487479656461">什么</a><br>ERROR  Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?</p>
<h4 id="拆分子组件"><a href="#拆分子组件" class="headerlink" title="拆分子组件"></a>拆分子组件</h4><p>我把一个大组件拆分成多个小函数组件，这些小函数组件如果有状态需要处理，怎么实现？<br>分两种情况：</p>
<ol>
<li>子组件要被其他文件复用<br>需要定义好内部状态和props<br>复用的子组件不建议使用redux</li>
<li>子组件只当前组件复用<br>把子组件包在父组件里，通过变量捕获可以实现我共享父组件的状态<br>子组件使用redux管理状态(我挺担心这样会污染store)</li>
</ol>
<p>使用什么方案，我也不确定，需要实践。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 内含状态的复用组件</span><br><span class="line">const ResetAlert = (props) =&gt; &#123;</span><br><span class="line">  const [visible, setVisible] = React.useState(props.visible)</span><br><span class="line">  return (</span><br><span class="line">      &lt;JTModal visible=&#123;visible&#125;&gt;</span><br><span class="line">        &lt;TextAlert canceled=&#123;()=&gt;&#123;setVisible(false);&#125;&#125; confirmed=&#123;()=&gt;&#123;setVisible(false);dispatch(action);&#125;&#125; /&gt;</span><br><span class="line">      &lt;/JTModal&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="不懂就问"><a href="#不懂就问" class="headerlink" title="不懂就问"></a>不懂就问</h3><ul>
<li><p>redux store 可以动态添加reducer吗<br>我的理解是：RN每个页面或每个模块有独立的RCTBridge, store只需要存放各自需要的state。先维护一个全局状态store，每次展示页面时并入页面的state，生成新的store，传给Provider<br>官网好像有这样的方案和第三方库</p>
</li>
<li><p>import重命名语法<br>下面在导出语句，导出了selectTodos &amp; selectTodoById， 和直觉不符啊。难道是语法<br>export const {selectAll: selectTodos, selectById: selectTodoById} &#x3D; …</p>
</li>
</ul>
<h3 id="想啥写啥"><a href="#想啥写啥" class="headerlink" title="想啥写啥"></a>想啥写啥</h3><h4 id="redux-使用范围怎么确定"><a href="#redux-使用范围怎么确定" class="headerlink" title="redux 使用范围怎么确定"></a>redux 使用范围怎么确定</h4><p>项目里使用redux，是不是所有组件都可以接入。<br>那组件的复用和单测是不是受影响了。<br>基础组件一般是函数组件，没有状态，但是有点击事件需要处理。<br>那基础组件可以不接入redux，而是使用function传入事件处理函数。</p>
<p>要看redux相关的文档，包含相关中间件，内容不少啊。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/21/work-daily-220721/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/21/work-daily-220721/" class="post-title-link" itemprop="url">work-daily-220721</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-21 09:08:44" itemprop="dateCreated datePublished" datetime="2022-07-21T09:08:44+08:00">2022-07-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-31 07:26:09" itemprop="dateModified" datetime="2022-07-31T07:26:09+08:00">2022-07-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/work/" itemprop="url" rel="index"><span itemprop="name">工作日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="技术踩坑"><a href="#技术踩坑" class="headerlink" title="技术踩坑"></a>技术踩坑</h3><h4 id="RN-iOS-style-data-picker"><a href="#RN-iOS-style-data-picker" class="headerlink" title="RN iOS style data picker"></a>RN iOS style data picker</h4><p>现在需要选择一个scroll data picker。功能不复杂，但要保持iOS和安卓样式统一。<br>所以需要纯js实现的，那就有点复杂了，涉及动画实现。<br>找来找去也就几个可选：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/react-native-picker/picker">react-native-picker&#x2F;picker</a> 两端不统一，可配置性低。原生控件效果好</li>
<li><a target="_blank" rel="noopener" href="https://github.com/keiya01/react-simple-wheel-picker">react-simple-wheel-picker</a> 长时间未更新，只支持react16</li>
<li><a target="_blank" rel="noopener" href="https://github.com/uynguyen/react-native-wheel-picker">@uynguyen505&#x2F;react-native-wheel-picker</a> 中国人写的，包体积最大，滚轮效果, 依赖1的iOSpicker</li>
<li><a target="_blank" rel="noopener" href="https://github.com/rheng001/react-native-wheel-scrollview-picker">react-native-wheel-scrollview-picker</a> 下载量最大，但是显示有问题。效果不好。</li>
</ol>
<h4 id="RN自定义弹框"><a href="#RN自定义弹框" class="headerlink" title="RN自定义弹框"></a>RN自定义弹框</h4><p>react-native-dialog 可以参考一下，实现弹框动画, 这个库意义不大。<br>经过半天改造，我实现了一个组件可以实现上下左右中间弹出视图的功能。</p>
<h4 id="RN动画库"><a href="#RN动画库" class="headerlink" title="RN动画库"></a>RN动画库</h4><p>还需要一个动画库  别人总结的常用<a target="_blank" rel="noopener" href="https://juejin.cn/post/6962048905064218660#heading-4">动画库</a><br>react-native-reanimated 是用来替换官方的API<br><a target="_blank" rel="noopener" href="https://github.com/oblador/react-native-animatable">react-native-animatable</a>&amp; <a target="_blank" rel="noopener" href="https://github.com/hayanisaid/rnal">React Native Animations Library (rnal)</a> 是提供简单的API<br>看下来只有 react-native-reanimated 保持更新</p>
<h3 id="不懂就问"><a href="#不懂就问" class="headerlink" title="不懂就问"></a>不懂就问</h3><h3 id="想啥写啥"><a href="#想啥写啥" class="headerlink" title="想啥写啥"></a>想啥写啥</h3><p>早上开车听管理演讲学到一个词：业务价值</p>
<p>管理的担当: 保证完成任务拿到结果，不是承当责任</p>
<p>花了几天时间熟悉ts，写了几个简单页面。看了眼第三方库，其中涉及js和react的核心功能我不是很熟悉。<br>要花时间深入学习一下。在家也看文档写代码，爱人问我你的工作在公司做不完吗？我说我要做整个模块，东西比较多。<br>我不能只做完需求，我还要完成文档，还要深入原理。</p>
<p>早上演讲也提到：有价值的需求只十分之一，只做其一。但我的工作是这样。我只能先做好工作。再考虑其他有价值的事。<br>想想我现在做的事情挺有价值的，其实我是在做框架。可以复制到其他项目的。</p>
<p>那些说自己是iOS工程师，android工程师的。把自己圈在某个细分领域。我们是软件工程师，<br>只要是软件，我们都应该会做。很多时候只是看看文档就可以开始开发了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/20/work-daily-220720/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/20/work-daily-220720/" class="post-title-link" itemprop="url">work-daily-220720</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-20 09:21:59" itemprop="dateCreated datePublished" datetime="2022-07-20T09:21:59+08:00">2022-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-31 07:26:09" itemprop="dateModified" datetime="2022-07-31T07:26:09+08:00">2022-07-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/work/" itemprop="url" rel="index"><span itemprop="name">工作日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="技术踩坑"><a href="#技术踩坑" class="headerlink" title="技术踩坑"></a>技术踩坑</h3><h4 id="react-navigation-使用经验"><a href="#react-navigation-使用经验" class="headerlink" title="react navigation 使用经验"></a>react navigation 使用经验</h4><ul>
<li><p>react navigation <a target="_blank" rel="noopener" href="https://reactnavigation.org/docs/glossary-of-terms">名词解释</a></p>
<blockquote>
<p>对其中出现的名词有个了解才能更好的查文档。API文档其实有些乱。</p>
</blockquote>
</li>
<li><p>文档说headerRight 是个function， 但是参数是什么没写？</p>
<p>  类型定义在native-stack&#x2F;src&#x2F;types.tsx<br>  headerLeft?: (props: HeaderBackButtonProps) &#x3D;&gt; React.ReactNode<br>  headerRight?: (props: HeaderButtonProps) &#x3D;&gt; React.ReactNode;<br>  参数就这：{ tintColor, canGoBack }。获取不到navigation，怎么跳转。<br>  还是依赖screenOptions 函数，获取navigation参数</p>
</li>
<li><p>怎么push相同的view？<br>  通过key区别<br>  navigation.navigate({ name: SCREEN, key: SCREEN_KEY_A });<br>  navigation.navigate({ name: SCREEN, key: SCREEN_KEY_B });</p>
</li>
<li><p>怎么给所有页面添加相同背景色？<br>  可以使用<a target="_blank" rel="noopener" href="https://reactnavigation.org/docs/themes/">theme</a><br>  可以使用高阶组件包装一下</p>
</li>
</ul>
<h3 id="不懂就问"><a href="#不懂就问" class="headerlink" title="不懂就问"></a>不懂就问</h3><ul>
<li><p>创建npm包<br>打算用npm做组件化，怎么创建npm包呢？可以依赖本地包吗？<br>专门有人写文章介绍这个。<br>  use “npm init” or “npm create” to Create a package.json file</p>
</li>
<li><p>npm包名前面@是什么意思 “npm install @scope&#x2F;package-name”</p>
<p>  参考 <a target="_blank" rel="noopener" href="https://docs.npmjs.com/downloading-and-installing-packages-locally">Downloading and installing packages locally</a><br>  包名前面有@ 称为 “scoped package”, 说明@表示命名空间（域名）。<br>  “private packages are always scoped” 难怪公司的包都有@<br>  创建@包使用 “npm init --scope&#x3D;@scropname”<br>  “run npm install with the full path to your package directory” 可以用路径安装<br>  自定包安装成功了，但是node_modules 里包名没有包含域名<br>  因为安装的包名没有使用 “@scroped&#x2F;packagename”</p>
</li>
<li><p>iOS模拟器占用大量CPU</p>
<blockquote>
<p>开着模拟器有spotlight进程在ActivityMoniter,占用大量CPU<br>Google一下确认有这个问题。将模拟器设置中的 Siri&amp;Search 中的开关都关掉就OK啦</p>
</blockquote>
</li>
<li><p>import typescript type</p>
<blockquote>
<p>typescript 定义的 type 和interface 可以import吗？ 通过验证可以import，也需要 export</p>
</blockquote>
</li>
</ul>
<h3 id="想啥写啥"><a href="#想啥写啥" class="headerlink" title="想啥写啥"></a>想啥写啥</h3><p>每天新建一个日记，那昨天没写完的内容怎么办？今天继续，还是更新昨天的日记？<br>继续写吧。</p>
<p>react-navigation开源导航库，提供了完善的功能，可以快速搭建出页面导航功能。<br>但是做出和设计稿一致的效果，就要调整参数。style相关的参数是不在react-navigation<br>文档里做说明的。所以熟悉react-native开发是使用好第三方库的基础。<br>所以有经验的程序员是有价值的。不要自我贬低。</p>
<p>中午读了 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/ZCZAqut92HW5vOIMEhkiYQ">5款经典代码阅读器的使用方案对比</a><br>很遗憾不能在mac上使用 Source Insight<br>我试试Sourcetrail吧。界面太丑。</p>
<p>我在用RN搭建简单的页面，还没同事用vue写的复杂。我是不是在做浪费时间的事？<br>很明显我在做重复性的工作。即使我尽可能少的重复。但仍然有重复。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dengcqw.github.io/2022/07/19/work-daily-220719/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DengJinlong">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Deng's Technique Blogs">
      <meta itemprop="description" content="我也有个写作的梦想，还有大把时间，努力实现吧。I also have a dream about writing. A mount of time in the feature, it's never too late.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Deng's Technique Blogs">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/19/work-daily-220719/" class="post-title-link" itemprop="url">work-daily-220719</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-19 09:16:23" itemprop="dateCreated datePublished" datetime="2022-07-19T09:16:23+08:00">2022-07-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-31 07:26:09" itemprop="dateModified" datetime="2022-07-31T07:26:09+08:00">2022-07-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/work/" itemprop="url" rel="index"><span itemprop="name">工作日记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="技术踩坑"><a href="#技术踩坑" class="headerlink" title="技术踩坑"></a>技术踩坑</h3><ul>
<li><p>cannot be used as JSX component<br> vim 编辑器对ReactNative 组件报错 “cannot be used as JSX component”<br><img src="/imgs/vim_tsx_componet_lint_error.webp" alt="img"><br>需要使用对应版本的 @type&#x2F;react</p>
</li>
<li><p>React Navigation<br>准备给RN项目添加导航了，官方有<a target="_blank" rel="noopener" href="https://reactnative.dev/docs/navigation">推荐文档</a><br>领导是个纯粹的人，不想搞花里胡哨的东西。全部用RN来做，尽量不依赖原生平台。<br>所以只需要使用<a target="_blank" rel="noopener" href="https://reactnavigation.org/">react-navigation</a> + react-native-screens + react-native-safe-area-context<br>React Navigation提供原生导航一样的体验。<br>@react-navigation&#x2F;native-stack 依赖 react-native-screens<br>带着问题去学习</p>
<ol>
<li>导航栏怎么配置<br>  <a target="_blank" rel="noopener" href="https://reactnavigation.org/docs/native-stack-navigator/#options">Stack.Navigator.screenOptions</a></li>
<li>页面怎么配置</li>
<li>参数怎么传递（双向传递） <a target="_blank" rel="noopener" href="https://reactnavigation.org/docs/hello-react-navigation#passing-additional-props">passing-additional-props</a></li>
</ol>
<ul>
<li>React context</li>
<li>下面这样使用Screen  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Stack.Screen name=&quot;Home&quot;&gt;</span><br><span class="line">  &#123;(props) =&gt; &lt;HomeScreen &#123;...props&#125; extraData=&#123;someData&#125; /&gt;&#125;</span><br><span class="line">&lt;/Stack.Screen&gt;</span><br></pre></td></tr></table></figure></li>
<li>navigation.navigate(‘Details’, options) 可以带参数到下个页面<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const &#123; itemId, otherParam &#125; = route.params</span><br><span class="line">navigation.setParams()  实时更新自定义参数</span><br><span class="line">navigation.setOptions() 更新screen options</span><br><span class="line">// Pass and merge params back to home screen</span><br><span class="line">navigation.navigate(&#123;</span><br><span class="line">     name: &#x27;Home&#x27;,</span><br><span class="line">     params: &#123; post: postText &#125;,</span><br><span class="line">     merge: true,</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure></li>
<li>Stack.Screen.options  可以是object也可以是function</li>
<li>每个screen 组件会带入参数({navigation, route})</li>
</ul>
<ol start="4">
<li>怎么操控stack</li>
<li>导航容器有什么配置</li>
<li>nested navigators 导航容器可以嵌套 <a target="_blank" rel="noopener" href="https://reactnavigation.org/docs/params#passing-params-to-nested-navigators">传递参数要注意</a><br>  实现 tab，drawer 相关功能</li>
</ol>
<p>还能实现top tabs功能，modal screen 也能实现，太强大了<br>@react-navigation&#x2F;material-top-tabs 依赖 react-native-tab-view react-native-pager-view</p>
</li>
</ul>
<h3 id="不懂就问"><a href="#不懂就问" class="headerlink" title="不懂就问"></a>不懂就问</h3><ul>
<li><p>typescript react 可以使用interface 和 type 定义props？优先用哪个？(参考<a target="_blank" rel="noopener" href="https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/basic_type_example#more-advice">cheatsheet</a>)<br>interface 用于库的公开接口，可扩展，type 用于固定接口，不可扩展<br>大规模项目中，interface性能更好<br>功能上也有细微差别，参考cheatsheet</p>
</li>
<li><p>不推荐使用React.FC&#x2F;React.FunctionComponent的原因(参考<a target="_blank" rel="noopener" href="https://github.com/facebook/create-react-app/pull/8177">文档</a>)</p>
<ul>
<li>隐含children定义</li>
<li>不支持泛型</li>
<li>Makes “component as namespace pattern” more awkward 在组件中定义组件不方便</li>
<li>不能正确使用defaultProps</li>
<li>名字太长</li>
</ul>
</li>
<li><p>react 几个陌生概念</p>
<ul>
<li>context</li>
<li>ref</li>
<li>partals</li>
<li>hooks</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/bvaughn/react-error-boundary">react-error-boundary</a><br>捕获render错误并恢复</p>
</li>
<li><p>js&#x2F;ts 需要分号吗？还是有学问的。<br>Javascript 需要分号吗？ Typescript需要分号吗？<br>js&#x2F;ts 可以不添加分号 参考<a target="_blank" rel="noopener" href="https://262.ecma-international.org/#sec-automatic-semicolon-insertion">automatic-semicolon-insertion</a><br>建议使用分号 参考<a target="_blank" rel="noopener" href="https://github.com/olliahonen/should-i-use-semicolons-ts">should-i-use-semicolons-ts</a></p>
</li>
<li><p>import 两种写法</p>
<blockquote>
<p>下面两种写法有区别吗？<br>import * as React from ‘react’; 没有export default时使用<br>import React from ‘react’; 有export default可以使用，直接导入默认的。</p>
</blockquote>
</li>
<li><p>typescript 有一个对象如何获取类型吗? c++中 declare</p>
<blockquote>
<p>typeof 可以<br>例如type AppDispatch &#x3D; typeof store.dispatch;</p>
</blockquote>
</li>
</ul>
<h3 id="想啥写啥"><a href="#想啥写啥" class="headerlink" title="想啥写啥"></a>想啥写啥</h3><p>项目组就我一个人写RN，我还要负责培训同事。那我不能像以前一样只会做需求，还需要深入源码。<br>要能够解决各种bug，要会搭建架构。</p>
<p>开晨会时，领导说我声音小。这是我一大缺点。熟悉环境后会好点。</p>
<p>下午，领导和一个穿衬衫的男人聊了很久。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DengJinlong</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
